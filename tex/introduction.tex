Companies have a vast number of operational legacy systems and these systems are not immune to software aging problems. However, they can not be discarded because they incorporate a lot of embodied knowledge due to years of maintenance and this constitutes a significant corporate asset. Furthermore, these kind of systems mainly consist of two artifacts: source code and databases. Usually, the maintenance of those artifacts is carried out through restructuring processes in isolated manners~\cite{Griffith2011}. Nevertheless, we claim that for a more effective maintenance of the whole system both should be analyzed and evolved jointly. 

Refactoring can be used in order to deal with the maintenance of these systems~\cite{refactImpro}. %Martin Fowler~\cite{refactImpro} defines refactoring as ``A change made to the internal structure of software to make it easier to understand and cheaper to modify without changing its observable behavior''.
 Empirical studies of refactoring have shown that it can improve maintainability~\cite{1510132} and reusability~\cite{Moser:2006} of legacy system. Furthermore, not only does existing work suggest that refactoring is useful, but it also suggests that refactoring is a frequent practice~\cite{Murphy:2011}. Cherubini and colleagues` survey indicates that developers rate the importance of refactoring as equal to or greater than that of understanding code and producing documentation~\cite{Cherubini:2007}.

In a parallel research line, researchers have been shifted from the typical refactoring process to the so-called Architecture-Driven Modernization (ADM)~\cite{ADMBook}. ADM has been proposed by OMG (Object Management Group)  and advocates conducting reengineering processes following the principles of Model-Driven Development (MDD)~\cite{ADMBook}, i.e., it treats all the software artifacts involved in the legacy system as models and can establish transformations among them. Firstly a reverse engineering is performed starting from the source code and a model instance (\textbf{P}lataform \textbf{S}pecific \textbf{M}odel - PSM) is created. Next successive refinements are applied to this model up to reach a good abstraction level (PSM) in model called KDM (\textbf{K}nowledge \textbf{D}iscovery \textbf{M}etamodel). Upon this model, several refactorings, optimizations and modifications can be performed to solve problems found in the legacy system. Secondly a forward engineering is carried out and the source code of the modernized target system is generated again. According to the OMG the most important artifact provided by ADM is the KDM metamodel, which is a multipurpose standard metamodel that represents all aspects of the existing information  technology architectures. The KDM is divided into four layers representing both physical and logical software assets of information systems at several abstraction levels. Each layer is further organized into packages. Each package defines a set of meta-model elements whose purpose is to represent a certain independent facet of knowledge related to existing legacy systems.  However, in this paper we are only interested in both Program Elements layer and Runtime Resources layer, used to represent a language-independent intermediate representation for programming languages and useful to represent information such as database, respectively.

One of the challenges of Software Engineering focuses on mechanisms to support the automation of software reengineering process, aiming to reduce time and effort spent in this process.
 Motivated by this challenge, we put forward an infrastructure to assist the reengineering of a legacy system based on ADM, which uses the Knowledge Discovery Metamodel (KDM) standard. 
%More specifically, this infrastructure analyses Structured Query Language (SQL) queries embedded in a legacy source code in order to restructure and re-organize the system by using design patterns, such as Data Access Object (DAO) and Service-Oriented Architecture (SOA).  
This paper is organized as followed: Section 2 provides information related to the infrastructure - Section 3 the architecture of the infrastructure is depicted - in Section 4 there are related works and in Section 5 we conclude the paper with some remarks and future directions.